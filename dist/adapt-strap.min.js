/**
 * adapt-strap
 * @version v2.2.4 - 2015-05-06
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e,a,t){"use strict";angular.module("adaptv.adaptStrap",["adaptv.adaptStrap.utils","adaptv.adaptStrap.treebrowser","adaptv.adaptStrap.tablelite","adaptv.adaptStrap.tableajax","adaptv.adaptStrap.loadingindicator","adaptv.adaptStrap.draggable","adaptv.adaptStrap.infinitedropdown","adaptv.adaptStrap.alerts"]).provider("$adConfig",function(){var e=this.iconClasses={expand:"glyphicon glyphicon-plus-sign",collapse:"glyphicon glyphicon-minus-sign",loadingSpinner:"glyphicon glyphicon-refresh ad-spin",firstPage:"glyphicon glyphicon-fast-backward",previousPage:"glyphicon glyphicon-backward",nextPage:"glyphicon glyphicon-forward",lastPage:"glyphicon glyphicon-fast-forward",sortAscending:"glyphicon glyphicon-chevron-up",sortDescending:"glyphicon glyphicon-chevron-down",sortable:"glyphicon glyphicon-resize-vertical",draggable:"glyphicon glyphicon-align-justify",selectedItem:"glyphicon glyphicon-ok",alertInfoSign:"glyphicon glyphicon-info-sign",alertSuccessSign:"glyphicon glyphicon-ok",alertWarningSign:"glyphicon glyphicon-warning-sign",alertDangerSign:"glyphicon glyphicon-exclamation-sign"},a=this.paging={request:{start:"skip",pageSize:"limit",page:"page",sortField:"sort",sortDirection:"sort_dir",sortAscValue:"asc",sortDescValue:"desc"},response:{itemsLocation:"data",totalItems:"pagination.totalCount"},pageSize:10,pageSizes:[10,25,50]},t=this.componentClasses={tableLiteClass:"table",tableAjaxClass:"table"};this.$get=function(){return{iconClasses:e,paging:a,componentClasses:t}}}),angular.module("adaptv.adaptStrap.alerts",[]).directive("adAlerts",[function(){function e(e,a,t,n,o){e.iconMap={info:n.iconClasses.alertInfoSign,success:n.iconClasses.alertSuccessSign,warning:n.iconClasses.alertWarningSign,danger:n.iconClasses.alertDangerSign};var i,l=e.timeout&&!Number(l).isNAN?e.timeout:0;e.close=function(){o.clear(),i&&t.cancel(i)},e.customClasses=e.customClasses||"",e.settings=o.settings,0!==l&&e.$watch("settings.type",function(a){""!==a&&(i&&t.cancel(i),i=t(e.close,l))})}return{restrict:"AE",scope:{timeout:"=",customClasses:"@"},templateUrl:"alerts/alerts.tpl.html",controller:["$scope","$attrs","$timeout","$adConfig","adAlerts",e]}}]),angular.module("adaptv.adaptStrap.alerts").factory("adAlerts",[function(){function e(e,a){o("warning",e,a)}function a(e,a){o("info",e,a)}function t(e,a){o("success",e,a)}function n(e,a){o("danger",e,a)}function o(e,a,t){l.type=e,l.caption=a,l.message=t}function i(){l.type="",l.caption="",l.message=""}var l={type:"",caption:"",message:""};return{settings:l,warning:e,info:a,success:t,error:n,clear:i}}]),angular.module("adaptv.adaptStrap.draggable",[]).directive("adDrag",["$rootScope","$parse","$timeout",function(t,n,o){function i(i,l,r){function s(){l.attr("draggable","false"),g(!0)}function g(e){e&&(i.$on("$destroy",d),r.$observe("adDrag",f),i.$watch(r.adDragData,u),i.$on("draggable:start",c),i.$on("draggable:end",p),i.hasHandle?l.on(A,".ad-drag-handle",m):(l.on(A,m),l.addClass("ad-draggable")),N||(l.on("mousedown",".ad-drag-handle",function(){return!1}),l.on("mousedown",function(){return!1})))}function c(e,a){a.el===l&&a.callback&&a.callback(e)}function p(e,a){a.el===l&&a.callback&&a.callback(e)}function d(){g(!1)}function u(e){i.data=e}function f(e){M=i.$eval(e)}function m(e){M&&(N?(C(),R=setTimeout(function(){C(),b(e)},100),q.on(j,C),q.on(T,C)):b(e))}function h(e,a){var t,n=$(a).attr("style");return n&&n.split(";").forEach(function(a){var n=a.split(":");$.trim(n[0])===e&&(t=n[1])}),t}function v(){h("width",l)&&l.data("ad-draggable-temp-width",h("width",l)),l.width(l.width()),l.children().each(function(){h("width",this)&&$(this).data("ad-draggable-temp-width",h("width",this)),$(this).width($(this).width())})}function C(){clearTimeout(R),q.off(j,C),q.off(T,C)}function b(e){M&&(e.preventDefault(),I=l.offset(),I=i.hasHandle?l.find(".ad-drag-handle").offset():l.offset(),l.addClass("ad-dragging"),z=e.pageX||e.originalEvent.touches[0].pageX,E=e.pageY||e.originalEvent.touches[0].pageY,k=z-I.left-O.scrollLeft(),L=E-I.top-O.scrollTop(),v(),w(k,L),q.on(j,D),q.on(T,S),t.$broadcast("draggable:start",{x:z,y:E,tx:k,ty:L,el:l,data:i.data,callback:P}))}function D(e){var a,n;M&&(e.preventDefault(),a=e.pageX||e.originalEvent.touches[0].pageX,n=e.pageY||e.originalEvent.touches[0].pageY,k=a-z+I.left-O.scrollLeft(),L=n-E+I.top-O.scrollTop(),w(k,L),t.$broadcast("draggable:move",{x:z,y:E,tx:k,ty:L,el:l,data:i.data}))}function S(e){M&&(e.preventDefault(),t.$broadcast("draggable:end",{x:z,y:E,tx:k,ty:L,el:l,data:i.data,callback:y}),l.removeClass("ad-dragging"),x(),q.off(j,D),q.off(T,S))}function P(e){i.onDragStartCallback&&i.$apply(function(){i.onDragStartCallback(i,{$data:i.data,$dragElement:{el:l},$event:e})})}function y(e){i.onDragEndCallback&&o(function(){i.$apply(function(){i.onDragEndCallback(i,{$data:i.data,$dragElement:{el:l},$event:e})})},100)}function x(){l.css({left:"",top:"",position:"","z-index":""});var e=l.data("ad-draggable-temp-width");l.css(e?{width:e}:{width:""}),l.children().each(function(){var e=$(this).data("ad-draggable-temp-width");$(this).css(e?{width:e}:{width:""})})}function w(e,a){l.css({left:e,top:a,position:"fixed","z-index":99999})}i.draggable=r.adDrag,i.hasHandle="false"===r.adDragHandle||"undefined"==typeof r.adDragHandle?!1:!0,i.onDragStartCallback=n(r.adDragBegin)||null,i.onDragEndCallback=n(r.adDragEnd)||null,i.data=null;var I,z,E,k,L,N="ontouchstart"in a.documentElement,A="touchstart mousedown",j="touchmove mousemove",T="touchend mouseup",q=$(a),O=$(e),M=!1,R=null;s()}return{restrict:"A",link:i}}]).directive("adDrop",["$rootScope","$parse",function(a,t){function n(n,o,i){function l(){r(!0)}function r(e){e&&(i.$observe("adDrop",g),n.$on("$destroy",s),n.$on("draggable:move",p),n.$on("draggable:end",d),n.$on("draggable:change",c))}function s(){r(!1)}function g(e){f=n.$eval(e)}function c(e,a){m!==a.el&&(m=null)}function p(e,t){if(f&&o!==t.el){var i=u(t.tx,t.ty,t.el);null!==i?(m=i,t.el.lastDropElement=m,n.$apply(function(){n.onDropOverCallback(n,{$data:t.data,$dragElement:{el:t.el},$dropElement:{el:m},$event:e})}),o.addClass("ad-drop-over"),a.$broadcast("draggable:change",{el:m})):t.el.lastDropElement===o&&(n.$apply(function(){n.onDropLeaveCallback(n,{$data:t.data,$dragElement:{el:t.el},$dropElement:{el:t.el.lastDropElement},$event:e})}),t.el.lastDropElement.removeClass("ad-drop-over"),delete t.el.lastDropElement)}}function d(e,a){f&&m&&(n.$apply(function(){n.onDropCallback(n,{$data:a.data,$dragElement:{el:a.el},$dropElement:{el:m},$event:e})}),m=null)}function u(e,a){var t=o.offset(),n=Math.floor(o.outerHeight()/6);return e+=h.scrollLeft(),a+=h.scrollTop(),a>=t.top+n&&a<=t.top+o.outerHeight()-n&&e>=t.left&&e<=t.left+o.outerWidth()&&e>=t.left&&e<=t.left+o.outerWidth()?o:null}n.droppable=i.adDrop,n.onDropCallback=t(i.adDropEnd)||null,n.onDropOverCallback=t(i.adDropOver)||null,n.onDropLeaveCallback=t(i.adDropLeave)||null;var f=!1,m=null,h=$(e);l()}return{restrict:"A",link:n}}]),angular.module("adaptv.adaptStrap.infinitedropdown",["adaptv.adaptStrap.utils","adaptv.adaptStrap.loadingindicator"]).directive("adInfiniteDropdown",["$parse","$compile","$templateCache","$adConfig","adLoadPage","adDebounce","adStrapUtils","adLoadLocalPage",function(e,a,n,o,i,l,r,s){function g(a,n,o){a.attrs=o,a.adStrapUtils=r,a.items={list:[],paging:{currentPage:1,totalPages:t,pageSize:Number(o.pageSize)||10}},a.localConfig={loadingData:!1,singleSelectionMode:e(o.singleSelectionMode)()?!0:!1,dimensions:{"max-height":o.maxHeight||"200px","max-width":o.maxWidth||"auto"}},a.selectedItems=a.$eval(o.selectedItems)||[],a.ajaxConfig=a.$eval(o.ajaxConfig)||{};var g,c=[];a.addRemoveItem=function(e,t,n){e.stopPropagation(),a.localConfig.singleSelectionMode?a.selectedItems[0]=t:r.addRemoveItemFromList(t,n);var i=a.$eval(o.onItemClick);i&&i(t)},a.loadPage=l(function(e){g=Math.random(),a.localConfig.loadingData=!0;var t=a.$eval(o.pageLoader)||i,n={pageNumber:e,pageSize:a.items.paging.pageSize,sortKey:a.localConfig.predicate,sortDirection:a.localConfig.reverse,ajaxConfig:a.ajaxConfig,token:g},l=function(t){t.token===g&&(a.items.list=1===e?t.items:a.items.list.concat(t.items),a.items.paging.totalPages=t.totalPages,a.items.paging.currentPage=t.currentPage,a.localConfig.loadingData=!1)},r=function(){a.localConfig.loadingData=!1};o.localDataSource?(n.localData=a.$eval(o.localDataSource),l(s(n))):t(n).then(l,r)},10),a.loadNextPage=function(){a.localConfig.loadingData||a.items.paging.currentPage+1<=a.items.paging.totalPages&&a.loadPage(a.items.paging.currentPage+1)},a.loadPage(1),o.ajaxConfig&&a.$watch(o.ajaxConfig,function(e){e&&a.loadPage(1)},!0),o.localDataSource&&(c.push(a.$watch(o.localDataSource,function(e){e&&a.loadPage(1)})),c.push(a.$watch(o.localDataSource+".length",function(e){e&&a.loadPage(1)}))),a.$on("$destroy",function(){c.forEach(function(e){e()})});var p=angular.element(n).find("ul")[0],d=l(function(){p.scrollTop+p.offsetHeight>=p.scrollHeight-300&&a.loadNextPage()},50);angular.element(p).bind("mousewheel",function(e){e.originalEvent&&e.originalEvent.deltaY&&(p.scrollTop+=e.originalEvent.deltaY,e.preventDefault(),e.stopPropagation()),d()})}return{restrict:"E",scope:!0,link:g,templateUrl:"infinitedropdown/infinitedropdown.tpl.html"}}]),angular.module("adaptv.adaptStrap.loadingindicator",[]).directive("adLoadingIcon",["$adConfig","$compile",function(e,a){return{restrict:"E",compile:function(){return{pre:function(t,n,o){var i=o.loadingIconClass||e.iconClasses.loadingSpinner,l=o.loadingIconSize?"ng-style=\"{'font-size': '"+o.loadingIconSize+"'}\"":"",r='<i class="'+i+'" '+l+"></i>";n.empty(),n.append(a(r)(t))}}}}}]).directive("adLoadingOverlay",["$adConfig",function(e){return{restrict:"E",templateUrl:"loadingindicator/loadingindicator.tpl.html",scope:{loading:"=",zIndex:"@",position:"@",containerClasses:"@",loadingIconClass:"@",loadingIconSize:"@"},compile:function(){return{pre:function(a){a.loadingIconClass=a.loadingIconClass||e.iconClasses.loading,a.loadingIconSize=a.loadingIconSize||"3em"}}}}}]),angular.module("adaptv.adaptStrap.tableajax",["adaptv.adaptStrap.utils","adaptv.adaptStrap.loadingindicator"]).directive("adTableAjax",["$parse","$filter","$adConfig","adLoadPage","adDebounce","adStrapUtils",function(e,a,n,o,i,l){function r(r,s){r.attrs=s,r.iconClasses=n.iconClasses,r.adStrapUtils=l,r.tableClasses=n.componentClasses.tableAjaxClass,r.onDataLoadedCallback=e(s.onDataLoaded)||null,r.items={list:t,paging:{currentPage:1,totalPages:t,totalItems:t,pageSize:Number(s.pageSize)||n.paging.pageSize,pageSizes:e(s.pageSizes)()||n.paging.pageSizes}},r.localConfig={pagingArray:[],loadingData:!1,showNoDataFoundMessage:!1,tableMaxHeight:s.tableMaxHeight,expandedItems:[]},r.onRowClick=function(e,a){var t=r.$parent.$eval(s.onRowClick);t&&t(e,a)},r.ajaxConfig=r.$eval(s.ajaxConfig),r.columnDefinition=r.$eval(s.columnDefinition),r.visibleColumnDefinition=a("filter")(r.columnDefinition,r.columnVisible);var g,c=[];r.items.paging.pageSizes.indexOf(r.items.paging.pageSize)<0&&(r.items.paging.pageSize=r.items.paging.pageSizes[0]),r.loadPage=i(function(e){r.collapseAll(),g=Math.random(),r.localConfig.loadingData=!0,r.localConfig.showNoDataFoundMessage=!1;var a=r.$eval(s.pageLoader)||o,t={pageNumber:e,pageSize:r.items.paging.pageSize,sortKey:r.localConfig.predicate,sortDirection:r.localConfig.reverse,ajaxConfig:r.ajaxConfig,token:g},n=function(e){e.token===g&&(r.items.list=e.items,r.items.paging.totalPages=e.totalPages,r.items.paging.totalItems=e.totalItems,r.items.paging.currentPage=e.currentPage,r.localConfig.pagingArray=e.pagingArray,r.localConfig.loadingData=!1),e.totalPages||(r.localConfig.showNoDataFoundMessage=!0),r.onDataLoadedCallback&&r.onDataLoadedCallback(r,{$success:!0,$response:e})},i=function(){r.localConfig.loadingData=!1,r.localConfig.showNoDataFoundMessage=!0,r.onDataLoadedCallback&&r.onDataLoadedCallback(r,{$success:!1,$response:null})};a(t).then(n,i)}),r.loadNextPage=function(){r.localConfig.loadingData||r.items.paging.currentPage+1<=r.items.paging.totalPages&&r.loadPage(r.items.paging.currentPage+1)},r.loadPreviousPage=function(){r.localConfig.loadingData||r.items.paging.currentPage-1>0&&r.loadPage(r.items.paging.currentPage-1)},r.loadLastPage=function(){r.localConfig.loadingData||r.items.paging.currentPage!==r.items.paging.totalPages&&r.loadPage(r.items.paging.totalPages)},r.pageSizeChanged=function(e){Number(e)!==r.items.paging.pageSize&&(r.items.paging.pageSize=Number(e),r.loadPage(1))},r.columnVisible=function(e){return e.visible!==!1},r.sortByColumn=function(e){var a=!0;"DEC"===s.onClickSortDirection&&(a=!1),e.sortKey&&(e.sortKey!==r.localConfig.predicate?(r.localConfig.predicate=e.sortKey,r.localConfig.reverse=a):r.localConfig.reverse===a?r.localConfig.reverse=!a:(r.localConfig.reverse=t,r.localConfig.predicate=t),r.loadPage(r.items.paging.currentPage))},r.collapseAll=function(){r.localConfig.expandedItems.length=0},r.getRowClass=function(e,a){var t="";return s.rowClassProvider&&(t+=r.$eval(s.rowClassProvider)(e,a)),t},r.toggle=function(e,a,t){if(e.stopPropagation(),l.addRemoveItemFromList(a,r.localConfig.expandedItems),l.itemExistsInList(a,r.localConfig.expandedItems)){var n=r.$eval(s.rowExpandCallback);n&&n(t)}},r.loadPage(1),c.push(r.$watch(s.ajaxConfig,function(){r.loadPage(1)},!0)),c.push(r.$watchCollection(s.columnDefinition,function(){r.columnDefinition=r.$eval(s.columnDefinition),r.visibleColumnDefinition=a("filter")(r.columnDefinition,r.columnVisible)})),r.$on("$destroy",function(){c.forEach(function(e){e()})})}return{restrict:"E",scope:!0,templateUrl:"tableajax/tableajax.tpl.html",controller:["$scope","$attrs",r]}}]),angular.module("adaptv.adaptStrap.tablelite",["adaptv.adaptStrap.utils"]).directive("adTableLite",["$parse","$http","$compile","$filter","$templateCache","$adConfig","adStrapUtils","adDebounce","adLoadLocalPage",function(e,a,n,o,i,l,r,s,g){function c(a,n){function i(e,a,t){a.next()[0]===e[0]?a.before(e):a.prev()[0]===e[0]?a.after(e):a.next()[0]===t[0]?a.before(e):a.prev()[0]===t[0]&&a.after(e)}a.attrs=n,a.iconClasses=l.iconClasses,a.adStrapUtils=r,a.tableClasses=l.componentClasses.tableLiteClass,a.columnDefinition=a.$eval(n.columnDefinition),a.visibleColumnDefinition=o("filter")(a.columnDefinition,a.columnVisible),a.items={list:t,allItems:t,paging:{currentPage:1,totalPages:t,pageSize:Number(n.pageSize)||l.paging.pageSize,pageSizes:e(n.pageSizes)()||l.paging.pageSizes}},a.filters={},a.localConfig={localData:r.parse(a.$eval(n.localDataSource)),pagingArray:[],dragChange:a.$eval(n.onDragChange),expandedItems:[],predicate:n.initialSortKey},"DEC"===n.initialSortDirection?a.localConfig.reverse=!1:"ASC"===n.initialSortDirection&&(a.localConfig.reverse=!0),a.selectedItems=a.$eval(n.selectedItems),a.searchText=a.$eval(n.searchText);var c,p=null,d=!1,u=null,f=!1,m=[];if(a.items.paging.pageSizes.indexOf(a.items.paging.pageSize)<0&&(a.items.paging.pageSize=a.items.paging.pageSizes[0]),a.loadPage=s(function(e){a.collapseAll();var t,i,l=r.parse(a.$eval(n.localDataSource)),s={};a.localConfig.localData=a.searchText?o("filter")(l,a.searchText):l,n.enableColumnSearch&&r.hasAtLeastOnePropertyWithValue(a.filters)&&(angular.forEach(a.filters,function(e,a){a.indexOf(".")>-1?angular.extend(s,r.createdChainObjectAndInitValue(a,e)):s[a]=e}),a.localConfig.localData=o("filter")(a.localConfig.localData,s)),t=a.localConfig.localData,i={pageNumber:e,pageSize:n.disablePaging?t.length:a.items.paging.pageSize,sortKey:a.localConfig.predicate,sortDirection:a.localConfig.reverse,localData:t};var c=g(i);a.items.list=c.items,a.items.allItems=c.allItems,a.items.paging.currentPage=c.currentPage,a.items.paging.totalPages=c.totalPages,a.localConfig.pagingArray=c.pagingArray,a.$emit("adTableLite:pageChanged",a.items.paging)},100),a.loadNextPage=function(){a.items.paging.currentPage+1<=a.items.paging.totalPages&&a.loadPage(a.items.paging.currentPage+1)},a.loadPreviousPage=function(){a.items.paging.currentPage-1>0&&a.loadPage(a.items.paging.currentPage-1)},a.loadLastPage=function(){a.localConfig.disablePaging||a.loadPage(a.items.paging.totalPages)},a.pageSizeChanged=function(e){a.items.paging.pageSize=e,a.loadPage(1)},a.columnVisible=function(e){return e.visible!==!1},a.sortByColumn=function(e){var o=!0;"DEC"===n.onClickSortDirection&&(o=!1),e.sortKey&&(e.sortKey!==a.localConfig.predicate?(a.localConfig.predicate=e.sortKey,a.localConfig.reverse=o):a.localConfig.reverse===o?a.localConfig.reverse=!o:(a.localConfig.reverse=t,a.localConfig.predicate=t),a.loadPage(a.items.paging.currentPage))},a.unSortTable=function(){a.localConfig.reverse=t,a.localConfig.predicate=t},a.collapseAll=function(){a.localConfig.expandedItems.length=0},a.onDragStart=function(e,t){a.localConfig.expandedItems.length=0,t=t.el;var n=t.parent();p=$('<tr id="row-phldr"><td colspan='+t.find("td").length+">&nbsp;</td></tr>"),c=t.index()+(a.items.paging.currentPage-1)*a.items.paging.pageSize,d||(t[0]!==n.children().last()[0]?(t.next().before(p),d=!0):(n.append(p),d=!0))},a.onDragEnd=function(){$("#row-phldr").remove(),d=!1},a.onDragOver=function(e,a,t){p&&i(p,t.el,a.el)},a.onDropEnd=function(e,t){var n;t=t.el,p&&(p.next()[0]?p.next().before(t):p.prev()[0]&&p.prev().after(t),$("#row-phldr").remove(),d=!1,f=!0,n=t.index()+(a.items.paging.currentPage-1)*a.items.paging.pageSize,r.moveItemInList(c,n,a.localConfig.localData),a.localConfig.dragChange&&a.localConfig.dragChange(c,n,e),a.unSortTable(),a.loadPage(a.items.paging.currentPage))},a.onNextPageButtonOver=function(e,a,t){"disabled"!==t.el.attr("disabled")&&(u=t.el,u.parent().addClass("active"))},a.onNextPageButtonLeave=function(e,a,t){u&&u===t.el&&(u.parent().removeClass("active"),u=null)},a.onNextPageButtonDrop=function(e,t){var n;u&&(f=!0,"btnPrev"===u.attr("id")&&(n=a.items.paging.pageSize*(a.items.paging.currentPage-1)),"btnNext"===u.attr("id")&&(n=a.items.paging.pageSize*a.items.paging.currentPage),r.moveItemInList(c,n,a.localConfig.localData),a.loadPage(a.items.paging.currentPage),$("#row-phldr").remove(),d=!1,t.el.remove(),a.localConfig.dragChange&&a.localConfig.dragChange(c,n,e),u.parent().removeClass("active"),u=null)},a.getRowClass=function(e,t){var o="";return o+=n.selectedItems&&r.itemExistsInList(e,a.selectedItems)?"ad-selected":"",n.rowClassProvider&&(o+=" "+a.$eval(n.rowClassProvider)(e,t)),o},a.toggle=function(e,t,o){if(e.stopPropagation(),r.addRemoveItemFromList(t,a.localConfig.expandedItems),r.itemExistsInList(t,a.localConfig.expandedItems)){var i=a.$eval(n.rowExpandCallback);i&&i(o)}},a.onRowClick=function(e,t){var o=a.$parent.$eval(n.onRowClick);o&&o(e,t)},a.loadPage(1),m.push(a.$watch(n.localDataSource,function(){a.loadPage(a.items.paging.currentPage)})),m.push(a.$watch(n.localDataSource+".length",function(){a.loadPage(a.items.paging.currentPage)})),m.push(a.$watchCollection(n.columnDefinition,function(){a.columnDefinition=a.$eval(n.columnDefinition),a.visibleColumnDefinition=o("filter")(a.columnDefinition,a.columnVisible)})),m.push(a.$watch(n.searchText,function(){a.searchText=a.$eval(n.searchText),a.loadPage(1)})),n.enableColumnSearch){var h=s(function(){a.loadPage(1)},Number(n.columnSearchDebounce)||400);m.push(a.$watch("filters",function(){h()},!0))}a.$on("$destroy",function(){m.forEach(function(e){e()})})}return{restrict:"E",controller:["$scope","$attrs",c],templateUrl:"tablelite/tablelite.tpl.html",scope:!0}}]),angular.module("adaptv.adaptStrap.treebrowser",[]).directive("adTreeBrowser",["$adConfig",function(e){function a(a,t){var n=Math.random();a.attrs=t,a.iconClasses=e.iconClasses,a.treeRoot=a.$eval(t.treeRoot)||{},a.toggle=function(e,n){var o;e.stopPropagation(),o=a.$eval(t.toggleCallback),o?o(n):n._ad_expanded=!n._ad_expanded},a.onRowClick=function(e,n,o){var i=a.$parent.$eval(t.onRowClick);i&&i(e,n,o)};var o=a.$eval(t.hasChildren);a.hasChildren=function(e){var a=e[t.childNode]&&e[t.childNode].length>0;return o&&(a=o(e)),a},a.localConfig={rendererTemplateId:"tree-renderer-"+n+".html"}}return{restrict:"E",scope:!0,controller:["$scope","$attrs",a],templateUrl:"treebrowser/treebrowser.tpl.html"}}]).directive("adTreeBrowserNode",["$compile","$http","$templateCache",function(e,a,t){function n(a){var t=a.config.url,n=l[t];if(!n){var o=i.replace(/%=nodeTemplate%/g,a.data);l[t]=e(o)}return l[t]}function o(e,t,o){function i(a){n(a)(e,function(e){t.append(e)})}a({cache:!0,url:e.$eval(o.templateUrl),method:"GET"}).then(i)}var i=t.get("treebrowser/treeBrowserNode.tpl.html"),l={};return{link:o,scope:!0,restrict:"E"}}]).directive("adTreeBrowserNodeToggle",function(){return{scope:!0,restrict:"E",replace:!0,templateUrl:"treebrowser/treebrowserNodeToggle.tpl.html"}}),angular.module("adaptv.adaptStrap.utils",[]).factory("adStrapUtils",["$filter",function(e){var a=function(e,a){var t=a.split(".");if(e)for(;t.length;){var n=t.shift();e&&(e=e[n])}return e},t=function(e,a){for(var t=e.split("."),n={obj:{}},o=n.obj;t.length;){var i=t.shift();o&&(0===t.length?o[i]=a:(o[i]={},o=o[i]))}return n.obj},n=function(a,t,n){var o,i,l;return a&&"function"==typeof a?a(n):(t&&(l=t.indexOf(":"),l>-1?(o=t.substring(0,l),i=t.substring(l+1),a=e(o)(a,i)):a=e(t)(a)),a)},o=function(e,a){var t=!1;return a.forEach(function(a){angular.equals(e,a)&&(t=!0)}),t},i=function(e,a){var t,n=!0;for(t=0;t<e.length;t++)if(o(e[t],a)===!1){n=!1;break}return n},l=function(e,a){a.push(e)},r=function(e,a){var t;for(t=a.length-1;t>-1;t--)angular.equals(e,a[t])&&a.splice(t,1)},s=function(e,a){var t,n=!1;for(t=a.length-1;t>-1;t--)angular.equals(e,a[t])&&(a.splice(t,1),n=!0);n===!1&&a.push(e)},g=function(e,a){e.forEach(function(e){o(e,a)||s(e,a)})},c=function(e,a){i(e,a)?a.length=0:g(e,a)},p=function(e,a,t){a<t.length&&t.splice(a,0,t.splice(e,1)[0])},d=function(e){var a=[];return angular.isArray(e)?a=e:angular.forEach(e,function(e){a.push(e)}),a},u=function(e,a){if(a&&"function"==typeof a)return a(e);for(var t=a.split(".");t.length;)e=e[t.shift()];return e},f=function(e){var a,t,n=!1;for(a in e)if(t=e[a],t instanceof Array?t.length>0&&(n=!0):t&&(n=!0),n)break;return n};return{evalObjectProperty:a,createdChainObjectAndInitValue:t,applyFilter:n,itemExistsInList:o,itemsExistInList:i,addItemToList:l,removeItemFromList:r,addRemoveItemFromList:s,addItemsToList:g,addRemoveItemsFromList:c,moveItemInList:p,parse:d,getObjectProperty:u,hasAtLeastOnePropertyWithValue:f}}]).factory("adDebounce",["$timeout","$q",function(e,a){var t=function(t,n,o,i){var l=null,r=a.defer(),s=n||300;return function(){var n=i||this,g=arguments,c=o&&!l,p=function(){o||(r.resolve(t.apply(n,g)),r=a.defer())};return l&&e.cancel(l),l=e(p,s),c&&(r.resolve(t.apply(n,g)),r=a.defer()),r.promise}};return t}]).directive("adCompileTemplate",["$compile",function(e){return function(a,t,n){a.$watch(function(e){return e.$eval(n.adCompileTemplate)},function(n){t.html(n),e(t.contents())(a)})}}]).factory("adLoadPage",["$adConfig","$http","adStrapUtils",function(e,a,t){return function(n){var o=(n.pageNumber-1)*n.pageSize,i=angular.copy(e.paging),l=angular.copy(n.ajaxConfig);l.paginationConfig&&l.paginationConfig.request&&angular.extend(i.request,l.paginationConfig.request),l.paginationConfig&&l.paginationConfig.response&&angular.extend(i.response,l.paginationConfig.response),l.params=l.params?l.params:{},i.request.start&&(l.params[i.request.start]=o),i.request.pageSize&&(l.params[i.request.pageSize]=n.pageSize),i.request.page&&(l.params[i.request.page]=n.pageNumber),n.sortKey&&i.request.sortField&&(l.params[i.request.sortField]=n.sortKey),n.sortDirection===!1&&i.request.sortDirection?l.params[i.request.sortDirection]=i.request.sortAscValue:n.sortDirection===!0&&i.request.sortDirection&&(l.params[i.request.sortDirection]=i.request.sortDescValue);var r;return r="JSONP"===l.method?a.jsonp(l.url+"?callback=JSON_CALLBACK",l):a(l),r.then(function(e){for(var a={items:t.evalObjectProperty(e.data,i.response.itemsLocation),currentPage:n.pageNumber,totalPages:Math.ceil(t.evalObjectProperty(e.data,i.response.totalItems)/n.pageSize),totalItems:Math.ceil(t.evalObjectProperty(e.data,i.response.totalItems)),pagingArray:[],token:n.token},o=5,l=n.pageNumber-Math.floor(o/2),r=l;r<=n.pageNumber;r++)r>0&&a.pagingArray.push(r);for(;a.pagingArray.length<o&&!(r>a.totalPages);)a.pagingArray.push(r),r++;return a})}}]).factory("adLoadLocalPage",["$filter",function(e){return function(a){var n,o={items:t,currentPage:a.pageNumber,totalPages:t,pagingArray:[],token:a.token},i=(a.pageNumber-1)*a.pageSize,l=i+a.pageSize,r=a.localData,s=r;a.sortKey&&(s=e("orderBy")(r,a.sortKey,a.sortDirection)),o.items=s.slice(i,l),o.allItems=r,o.currentPage=a.pageNumber,o.totalPages=Math.ceil(r.length/a.pageSize);var g=5,c=a.pageNumber-Math.floor(g/2);for(n=c;n<=a.pageNumber;n++)n>0&&o.pagingArray.push(n);for(;o.pagingArray.length<g&&!(n>o.totalPages);)o.pagingArray.push(n),n++;return o}}])}(window,document);