/**
 * adapt-strap
 * @version v2.1.3 - 2015-01-28
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,e,t){"use strict";angular.module("adaptv.adaptStrap",["adaptv.adaptStrap.utils","adaptv.adaptStrap.treebrowser","adaptv.adaptStrap.tablelite","adaptv.adaptStrap.tableajax","adaptv.adaptStrap.loadingindicator","adaptv.adaptStrap.draggable","adaptv.adaptStrap.infinitedropdown","adaptv.adaptStrap.alerts"]).provider("$adConfig",function(){var a=this.iconClasses={expand:"glyphicon glyphicon-plus-sign",collapse:"glyphicon glyphicon-minus-sign",loadingSpinner:"glyphicon glyphicon-refresh ad-spin",firstPage:"glyphicon glyphicon-fast-backward",previousPage:"glyphicon glyphicon-backward",nextPage:"glyphicon glyphicon-forward",lastPage:"glyphicon glyphicon-fast-forward",sortAscending:"glyphicon glyphicon-chevron-up",sortDescending:"glyphicon glyphicon-chevron-down",sortable:"glyphicon glyphicon-resize-vertical",draggable:"glyphicon glyphicon-align-justify",selectedItem:"glyphicon glyphicon-ok",alertInfoSign:"glyphicon glyphicon-info-sign",alertSuccessSign:"glyphicon glyphicon-ok",alertWarningSign:"glyphicon glyphicon-warning-sign",alertDangerSign:"glyphicon glyphicon-exclamation-sign"},e=this.paging={request:{start:"skip",pageSize:"limit",page:"page",sortField:"sort",sortDirection:"sort_dir",sortAscValue:"asc",sortDescValue:"desc"},response:{itemsLocation:"data",totalItems:"pagination.totalCount"}};this.$get=function(){return{iconClasses:a,paging:e}}}),angular.module("adaptv.adaptStrap.alerts",[]).directive("adAlerts",[function(){function a(a,e,t,n,o){a.iconMap={info:n.iconClasses.alertInfoSign,success:n.iconClasses.alertSuccessSign,warning:n.iconClasses.alertWarningSign,danger:n.iconClasses.alertDangerSign};var i,l=a.timeout&&!Number(l).isNAN?a.timeout:0;a.close=function(){o.clear(),i&&t.cancel(i)},a.settings=o.settings,0!==l&&a.$watch("settings.type",function(e){""!==e&&(i&&t.cancel(i),i=t(a.close,l))})}return{restrict:"AE",scope:{timeout:"="},templateUrl:"alerts/alerts.tpl.html",controller:["$scope","$attrs","$timeout","$adConfig","adAlerts",a]}}]),angular.module("adaptv.adaptStrap.alerts").factory("adAlerts",[function(){function a(a,e){o("warning",a,e)}function e(a,e){o("info",a,e)}function t(a,e){o("success",a,e)}function n(a,e){o("danger",a,e)}function o(a,e,t){l.type=a,l.caption=e,l.message=t}function i(){l.type="",l.caption="",l.message=""}var l={type:"",caption:"",message:""};return{settings:l,warning:a,info:e,success:t,error:n,clear:i}}]),angular.module("adaptv.adaptStrap.draggable",[]).directive("adDrag",["$rootScope","$parse","$timeout",function(t,n,o){function i(i,l,r){function g(){l.attr("draggable","false"),s(!0)}function s(a){a&&(i.$on("$destroy",d),r.$observe("adDrag",f),i.$watch(r.adDragData,u),i.$on("draggable:start",c),i.$on("draggable:end",p),i.hasHandle?l.on(A,".ad-drag-handle",m):(l.on(A,m),l.addClass("ad-draggable")),N||(l.on("mousedown",".ad-drag-handle",function(){return!1}),l.on("mousedown",function(){return!1})))}function c(a,e){e.el===l&&e.callback&&e.callback(a)}function p(a,e){e.el===l&&e.callback&&e.callback(a)}function d(){s(!1)}function u(a){i.data=a}function f(a){O=i.$eval(a)}function m(a){O&&(N?(C(),K=setTimeout(function(){C(),P(a)},100),q.on(j,C),q.on(T,C)):P(a))}function h(a,e){var t,n=$(e).attr("style");return n&&n.split(";").forEach(function(e){var n=e.split(":");$.trim(n[0])===a&&(t=n[1])}),t}function v(){h("width",l)&&l.data("ad-draggable-temp-width",h("width",l)),l.width(l.width()),l.children().each(function(){h("width",this)&&$(this).data("ad-draggable-temp-width",h("width",this)),$(this).width($(this).width())})}function C(){clearTimeout(K),q.off(j,C),q.off(T,C)}function P(a){O&&(a.preventDefault(),I=l.offset(),I=i.hasHandle?l.find(".ad-drag-handle").offset():l.offset(),l.addClass("ad-dragging"),z=a.pageX||a.originalEvent.touches[0].pageX,E=a.pageY||a.originalEvent.touches[0].pageY,k=z-I.left-M.scrollLeft(),L=E-I.top-M.scrollTop(),v(),w(k,L),q.on(j,b),q.on(T,D),t.$broadcast("draggable:start",{x:z,y:E,tx:k,ty:L,el:l,data:i.data,callback:S}))}function b(a){var e,n;O&&(a.preventDefault(),e=a.pageX||a.originalEvent.touches[0].pageX,n=a.pageY||a.originalEvent.touches[0].pageY,k=e-z+I.left-M.scrollLeft(),L=n-E+I.top-M.scrollTop(),w(k,L),t.$broadcast("draggable:move",{x:z,y:E,tx:k,ty:L,el:l,data:i.data}))}function D(a){O&&(a.preventDefault(),t.$broadcast("draggable:end",{x:z,y:E,tx:k,ty:L,el:l,data:i.data,callback:y}),l.removeClass("ad-dragging"),x(),q.off(j,b),q.off(T,D))}function S(a){i.onDragStartCallback&&i.$apply(function(){i.onDragStartCallback(i,{$data:i.data,$dragElement:{el:l},$event:a})})}function y(a){i.onDragEndCallback&&o(function(){i.$apply(function(){i.onDragEndCallback(i,{$data:i.data,$dragElement:{el:l},$event:a})})},100)}function x(){l.css({left:"",top:"",position:"","z-index":""});var a=l.data("ad-draggable-temp-width");l.css(a?{width:a}:{width:""}),l.children().each(function(){var a=$(this).data("ad-draggable-temp-width");$(this).css(a?{width:a}:{width:""})})}function w(a,e){l.css({left:a,top:e,position:"fixed","z-index":99999})}i.draggable=r.adDrag,i.hasHandle="false"===r.adDragHandle||"undefined"==typeof r.adDragHandle?!1:!0,i.onDragStartCallback=n(r.adDragBegin)||null,i.onDragEndCallback=n(r.adDragEnd)||null,i.data=null;var I,z,E,k,L,N="ontouchstart"in e.documentElement,A="touchstart mousedown",j="touchmove mousemove",T="touchend mouseup",q=$(e),M=$(a),O=!1,K=null;g()}return{restrict:"A",link:i}}]).directive("adDrop",["$rootScope","$parse",function(e,t){function n(n,o,i){function l(){r(!0)}function r(a){a&&(i.$observe("adDrop",s),n.$on("$destroy",g),n.$on("draggable:move",p),n.$on("draggable:end",d),n.$on("draggable:change",c))}function g(){r(!1)}function s(a){f=n.$eval(a)}function c(a,e){m!==e.el&&(m=null)}function p(a,t){if(f&&o!==t.el){var i=u(t.tx,t.ty,t.el);null!==i?(m=i,t.el.lastDropElement=m,n.$apply(function(){n.onDropOverCallback(n,{$data:t.data,$dragElement:{el:t.el},$dropElement:{el:m},$event:a})}),o.addClass("ad-drop-over"),e.$broadcast("draggable:change",{el:m})):t.el.lastDropElement===o&&(n.$apply(function(){n.onDropLeaveCallback(n,{$data:t.data,$dragElement:{el:t.el},$dropElement:{el:t.el.lastDropElement},$event:a})}),t.el.lastDropElement.removeClass("ad-drop-over"),delete t.el.lastDropElement)}}function d(a,e){f&&m&&(n.$apply(function(){n.onDropCallback(n,{$data:e.data,$dragElement:{el:e.el},$dropElement:{el:m},$event:a})}),m=null)}function u(a,e){var t=o.offset(),n=Math.floor(o.outerHeight()/6);return a+=h.scrollLeft(),e+=h.scrollTop(),e>=t.top+n&&e<=t.top+o.outerHeight()-n&&a>=t.left&&a<=t.left+o.outerWidth()&&a>=t.left&&a<=t.left+o.outerWidth()?o:null}n.droppable=i.adDrop,n.onDropCallback=t(i.adDropEnd)||null,n.onDropOverCallback=t(i.adDropOver)||null,n.onDropLeaveCallback=t(i.adDropLeave)||null;var f=!1,m=null,h=$(a);l()}return{restrict:"A",link:n}}]),angular.module("adaptv.adaptStrap.infinitedropdown",["adaptv.adaptStrap.utils","adaptv.adaptStrap.loadingindicator"]).directive("adInfiniteDropdown",["$parse","$compile","$templateCache","$adConfig","adLoadPage","adDebounce","adStrapUtils","adLoadLocalPage",function(a,e,n,o,i,l,r,g){function s(e,n,o){e.attrs=o,e.adStrapUtils=r,e.items={list:[],paging:{currentPage:1,totalPages:t,pageSize:Number(o.pageSize)||10}},e.localConfig={loadingData:!1,singleSelectionMode:a(o.singleSelectionMode)()?!0:!1,dimensions:{"max-height":o.maxHeight||"200px","max-width":o.maxWidth||"auto"}},e.selectedItems=e.$eval(o.selectedItems)||[],e.ajaxConfig=e.$eval(o.ajaxConfig)||{};var s,c=[];e.addRemoveItem=function(a,t,n){a.stopPropagation(),e.localConfig.singleSelectionMode?e.selectedItems[0]=t:r.addRemoveItemFromList(t,n);var i=e.$eval(o.onItemClick);i&&i(t)},e.loadPage=l(function(a){s=Math.random(),e.localConfig.loadingData=!0;var t=e.$eval(o.pageLoader)||i,n={pageNumber:a,pageSize:e.items.paging.pageSize,sortKey:e.localConfig.predicate,sortDirection:e.localConfig.reverse,ajaxConfig:e.ajaxConfig,token:s},l=function(t){t.token===s&&(e.items.list=1===a?t.items:e.items.list.concat(t.items),e.items.paging.totalPages=t.totalPages,e.items.paging.currentPage=t.currentPage,e.localConfig.loadingData=!1)},r=function(){e.localConfig.loadingData=!1};o.localDataSource?(n.localData=e.$eval(o.localDataSource),l(g(n))):t(n).then(l,r)},10),e.loadNextPage=function(){e.localConfig.loadingData||e.items.paging.currentPage+1<=e.items.paging.totalPages&&e.loadPage(e.items.paging.currentPage+1)},e.loadPage(1),o.ajaxConfig&&e.$watch(o.ajaxConfig,function(a){a&&e.loadPage(1)},!0),o.localDataSource&&(c.push(e.$watch(o.localDataSource,function(a){a&&e.loadPage(1)})),c.push(e.$watch(o.localDataSource+".length",function(a){a&&e.loadPage(1)}))),e.$on("$destroy",function(){c.forEach(function(a){a()})});var p=angular.element(n).find("ul")[0],d=l(function(){p.scrollTop+p.offsetHeight>=p.scrollHeight-300&&e.loadNextPage()},50);angular.element(p).bind("mousewheel",function(a){a.originalEvent&&a.originalEvent.deltaY&&(p.scrollTop+=a.originalEvent.deltaY,a.preventDefault(),a.stopPropagation()),d()})}return{restrict:"E",scope:!0,link:s,templateUrl:"infinitedropdown/infinitedropdown.tpl.html"}}]),angular.module("adaptv.adaptStrap.loadingindicator",[]).directive("adLoadingIcon",["$adConfig","$compile",function(a,e){return{restrict:"E",compile:function(){return{pre:function(t,n,o){var i=o.loadingIconClass||a.iconClasses.loadingSpinner,l=o.loadingIconSize?"ng-style=\"{'font-size': '"+o.loadingIconSize+"'}\"":"",r='<i class="'+i+'" '+l+"></i>";n.empty(),n.append(e(r)(t))}}}}}]).directive("adLoadingOverlay",["$adConfig",function(a){return{restrict:"E",templateUrl:"loadingindicator/loadingindicator.tpl.html",scope:{loading:"=",zIndex:"@",position:"@",containerClasses:"@",loadingIconClass:"@",loadingIconSize:"@"},compile:function(){return{pre:function(e){e.loadingIconClass=e.loadingIconClass||a.iconClasses.loading,e.loadingIconSize=e.loadingIconSize||"3em"}}}}}]),angular.module("adaptv.adaptStrap.tableajax",["adaptv.adaptStrap.utils","adaptv.adaptStrap.loadingindicator"]).directive("adTableAjax",["$parse","$adConfig","adLoadPage","adDebounce","adStrapUtils",function(a,e,n,o,i){function l(l,r){l.attrs=r,l.iconClasses=e.iconClasses,l.adStrapUtils=i,l.onDataLoadedCallback=a(r.onDataLoaded)||null,l.items={list:t,paging:{currentPage:1,totalPages:t,totalItems:t,pageSize:Number(r.pageSize)||10,pageSizes:a(r.pageSizes)()||[10,25,50]}},l.localConfig={pagingArray:[],loadingData:!1,showNoDataFoundMessage:!1,tableMaxHeight:r.tableMaxHeight,expandedItems:[]},l.ajaxConfig=l.$eval(r.ajaxConfig),l.columnDefinition=l.$eval(r.columnDefinition);var g,s=[];l.items.paging.pageSizes.indexOf(l.items.paging.pageSize)<0&&(l.items.paging.pageSize=l.items.paging.pageSizes[0]),l.loadPage=o(function(a){l.collapseAll(),g=Math.random(),l.localConfig.loadingData=!0,l.localConfig.showNoDataFoundMessage=!1;var e=l.$eval(r.pageLoader)||n,t={pageNumber:a,pageSize:l.items.paging.pageSize,sortKey:l.localConfig.predicate,sortDirection:l.localConfig.reverse,ajaxConfig:l.ajaxConfig,token:g},o=function(a){a.token===g&&(l.items.list=a.items,l.items.paging.totalPages=a.totalPages,l.items.paging.totalItems=a.totalItems,l.items.paging.currentPage=a.currentPage,l.localConfig.pagingArray=a.pagingArray,l.localConfig.loadingData=!1),a.totalPages||(l.localConfig.showNoDataFoundMessage=!0),l.onDataLoadedCallback&&l.onDataLoadedCallback(l,{$success:!0,$response:a})},i=function(){l.localConfig.loadingData=!1,l.localConfig.showNoDataFoundMessage=!0,l.onDataLoadedCallback&&l.onDataLoadedCallback(l,{$success:!1,$response:null})};e(t).then(o,i)}),l.loadNextPage=function(){l.localConfig.loadingData||l.items.paging.currentPage+1<=l.items.paging.totalPages&&l.loadPage(l.items.paging.currentPage+1)},l.loadPreviousPage=function(){l.localConfig.loadingData||l.items.paging.currentPage-1>0&&l.loadPage(l.items.paging.currentPage-1)},l.loadLastPage=function(){l.localConfig.loadingData||l.items.paging.currentPage!==l.items.paging.totalPages&&l.loadPage(l.items.paging.totalPages)},l.pageSizeChanged=function(a){Number(a)!==l.items.paging.pageSize&&(l.items.paging.pageSize=Number(a),l.loadPage(1))},l.sortByColumn=function(a){var e=!0;"DEC"===r.onClickSortDirection&&(e=!1),a.sortKey&&(a.sortKey!==l.localConfig.predicate?(l.localConfig.predicate=a.sortKey,l.localConfig.reverse=e):l.localConfig.reverse===e?l.localConfig.reverse=!e:(l.localConfig.reverse=t,l.localConfig.predicate=t),l.loadPage(l.items.paging.currentPage))},l.collapseAll=function(){l.localConfig.expandedItems.length=0},l.getRowClass=function(a,e){var t="";return r.rowClassProvider&&(t+=l.$eval(r.rowClassProvider)(a,e)),t},l.loadPage(1),s.push(l.$watch(r.ajaxConfig,function(){l.loadPage(1)},!0)),s.push(l.$watchCollection(r.columnDefinition,function(){l.columnDefinition=l.$eval(r.columnDefinition)})),l.$on("$destroy",function(){s.forEach(function(a){a()})})}return{restrict:"E",scope:!0,templateUrl:"tableajax/tableajax.tpl.html",controller:["$scope","$attrs",l]}}]),angular.module("adaptv.adaptStrap.tablelite",["adaptv.adaptStrap.utils"]).directive("adTableLite",["$parse","$http","$compile","$filter","$templateCache","$adConfig","adStrapUtils","adDebounce","adLoadLocalPage",function(a,e,n,o,i,l,r,g,s){function c(e,n){function i(a,e,t){e.next()[0]===a[0]?e.before(a):e.prev()[0]===a[0]?e.after(a):e.next()[0]===t[0]?e.before(a):e.prev()[0]===t[0]&&e.after(a)}e.attrs=n,e.iconClasses=l.iconClasses,e.adStrapUtils=r,e.columnDefinition=e.$eval(n.columnDefinition),e.items={list:t,allItems:t,paging:{currentPage:1,totalPages:t,pageSize:Number(n.pageSize)||10,pageSizes:a(n.pageSizes)()||[10,25,50]}},e.localConfig={localData:r.parse(e.$eval(n.localDataSource)),pagingArray:[],dragChange:e.$eval(n.onDragChange),expandedItems:[]},e.selectedItems=e.$eval(n.selectedItems),e.searchText=e.$eval(n.searchText);var c,p=null,d=null,u=!1,f=[];e.items.paging.pageSizes.indexOf(e.items.paging.pageSize)<0&&(e.items.paging.pageSize=e.items.paging.pageSizes[0]),e.loadPage=g(function(a){e.collapseAll();var t,i,l=r.parse(e.$eval(n.localDataSource));e.localConfig.localData=o("filter")(l,e.searchText),t=e.localConfig.localData,i={pageNumber:a,pageSize:n.disablePaging?t.length:e.items.paging.pageSize,sortKey:e.localConfig.predicate,sortDirection:e.localConfig.reverse,localData:t};var g=s(i);e.items.list=g.items,e.items.allItems=g.allItems,e.items.paging.currentPage=g.currentPage,e.items.paging.totalPages=g.totalPages,e.localConfig.pagingArray=g.pagingArray},100),e.loadNextPage=function(){e.items.paging.currentPage+1<=e.items.paging.totalPages&&e.loadPage(e.items.paging.currentPage+1)},e.loadPreviousPage=function(){e.items.paging.currentPage-1>0&&e.loadPage(e.items.paging.currentPage-1)},e.loadLastPage=function(){e.localConfig.disablePaging||e.loadPage(e.items.paging.totalPages)},e.pageSizeChanged=function(a){e.items.paging.pageSize=a,e.loadPage(1)},e.sortByColumn=function(a){var o=!0;"DEC"===n.onClickSortDirection&&(o=!1),a.sortKey&&(a.sortKey!==e.localConfig.predicate?(e.localConfig.predicate=a.sortKey,e.localConfig.reverse=o):e.localConfig.reverse===o?e.localConfig.reverse=!o:(e.localConfig.reverse=t,e.localConfig.predicate=t),e.loadPage(e.items.paging.currentPage))},e.unSortTable=function(){e.localConfig.reverse=t,e.localConfig.predicate=t},e.collapseAll=function(){e.localConfig.expandedItems.length=0},e.onDragStart=function(a,t){e.localConfig.expandedItems.length=0,t=t.el;var n=t.parent();p=$("<tr><td colspan="+t.find("td").length+">&nbsp;</td></tr>"),c=t.index()+(e.items.paging.currentPage-1)*e.items.paging.pageSize,t[0]!==n.children().last()[0]?t.next().before(p):n.append(p)},e.onDragEnd=function(){p.remove()},e.onDragOver=function(a,e,t){p&&i(p,t.el,e.el)},e.onDropEnd=function(a,t){var n;t=t.el,p&&(p.next()[0]?p.next().before(t):p.prev()[0]&&p.prev().after(t),p.remove(),u=!0,n=t.index()+(e.items.paging.currentPage-1)*e.items.paging.pageSize,r.moveItemInList(c,n,e.localConfig.localData),e.localConfig.dragChange&&e.localConfig.dragChange(c,n,a),e.unSortTable(),e.loadPage(e.items.paging.currentPage))},e.onNextPageButtonOver=function(a,e,t){"disabled"!==t.attr("disabled")&&(d=t.el,d.addClass("btn-primary"))},e.onNextPageButtonLeave=function(a,e,t){d&&d===t.el&&(d.removeClass("btn-primary"),d=null)},e.onNextPageButtonDrop=function(a,t){var n;d&&(u=!0,"btnPrev"===d.attr("id")&&(n=e.items.paging.pageSize*(e.items.paging.currentPage-1)),"btnNext"===d.attr("id")&&(n=e.items.paging.pageSize*e.items.paging.currentPage),r.moveItemInList(c,n,e.localConfig.localData),e.loadPage(e.items.paging.currentPage),p.remove(),t.el.remove(),e.localConfig.dragChange&&e.localConfig.dragChange(c,n,a),d.removeClass("btn-primary"),d=null)},e.getRowClass=function(a,t){var o="";return o+=n.selectedItems&&r.itemExistsInList(a,e.selectedItems)?"ad-selected":"",n.rowClassProvider&&(o+=" "+e.$eval(n.rowClassProvider)(a,t)),o},e.loadPage(1),f.push(e.$watch(n.localDataSource,function(){e.loadPage(e.items.paging.currentPage)})),f.push(e.$watch(n.localDataSource+".length",function(){e.loadPage(e.items.paging.currentPage)})),f.push(e.$watchCollection(n.columnDefinition,function(){e.columnDefinition=e.$eval(n.columnDefinition)})),f.push(e.$watch(n.searchText,function(){e.searchText=e.$eval(n.searchText),e.loadPage(e.items.paging.currentPage)})),e.$on("$destroy",function(){f.forEach(function(a){a()})})}return{restrict:"E",controller:["$scope","$attrs",c],templateUrl:"tablelite/tablelite.tpl.html",scope:!0}}]),angular.module("adaptv.adaptStrap.treebrowser",[]).directive("adTreeBrowser",["$adConfig",function(a){function e(e,t){var n=Math.random();e.attrs=t,e.iconClasses=a.iconClasses,e.treeRoot=e.$eval(t.treeRoot)||{},e.toggle=function(a,n){var o;a.stopPropagation(),o=e.$eval(t.toggleCallback),o?o(n):n._ad_expanded=!n._ad_expanded};var o=e.$eval(t.hasChildren);e.hasChildren=function(a){var e=a[t.childNode]&&a[t.childNode].length>0;return o&&(e=o(a)),e},e.localConfig={rendererTemplateId:"tree-renderer-"+n+".html"}}return{restrict:"E",scope:!0,controller:["$scope","$attrs",e],templateUrl:"treebrowser/treebrowser.tpl.html"}}]),angular.module("adaptv.adaptStrap.utils",[]).factory("adStrapUtils",["$filter",function(a){var e=function(a,e){var t=e.split(".");if(a)for(;t.length;){var n=t.shift();a&&(a=a[n])}return a},t=function(e,t,n){var o,i;return e&&"function"==typeof e?e(n):(t&&(o=t.split(":"),i=o[1],e=i?a(o[0])(e,i):a(o[0])(e)),e)},n=function(a,e){var t=!1;return e.forEach(function(e){angular.equals(a,e)&&(t=!0)}),t},o=function(a,e){var t,o=!0;for(t=0;t<a.length;t++)if(n(a[t],e)===!1){o=!1;break}return o},i=function(a,e){e.push(a)},l=function(a,e){var t;for(t=e.length-1;t>-1;t--)angular.equals(a,e[t])&&e.splice(t,1)},r=function(a,e){var t,n=!1;for(t=e.length-1;t>-1;t--)angular.equals(a,e[t])&&(e.splice(t,1),n=!0);n===!1&&e.push(a)},g=function(a,e){a.forEach(function(a){n(a,e)||r(a,e)})},s=function(a,e){o(a,e)?e.length=0:g(a,e)},c=function(a,e,t){e<t.length&&t.splice(e,0,t.splice(a,1)[0])},p=function(a){var e=[];return angular.isArray(a)?e=a:angular.forEach(a,function(a){e.push(a)}),e},d=function(a,e){if(e&&"function"==typeof e)return e(a);for(var t=e.split(".");t.length;)a=a[t.shift()];return a};return{evalObjectProperty:e,applyFilter:t,itemExistsInList:n,itemsExistInList:o,addItemToList:i,removeItemFromList:l,addRemoveItemFromList:r,addItemsToList:g,addRemoveItemsFromList:s,moveItemInList:c,parse:p,getObjectProperty:d}}]).factory("adDebounce",["$timeout","$q",function(a,e){var t=function(t,n,o,i){var l=null,r=e.defer(),g=n||300;return function(){var n=i||this,s=arguments,c=o&&!l,p=function(){o||(r.resolve(t.apply(n,s)),r=e.defer())};return l&&a.cancel(l),l=a(p,g),c&&(r.resolve(t.apply(n,s)),r=e.defer()),r.promise}};return t}]).directive("adCompileTemplate",["$compile",function(a){return function(e,t,n){e.$watch(function(a){return a.$eval(n.adCompileTemplate)},function(n){t.html(n),a(t.contents())(e)})}}]).factory("adLoadPage",["$adConfig","$http","adStrapUtils",function(a,e,t){return function(n){var o=(n.pageNumber-1)*n.pageSize,i=angular.copy(a.paging),l=angular.copy(n.ajaxConfig);l.paginationConfig&&l.paginationConfig.request&&angular.extend(i.request,l.paginationConfig.request),l.paginationConfig&&l.paginationConfig.response&&angular.extend(i.response,l.paginationConfig.response),l.params=l.params?l.params:{},i.request.start&&(l.params[i.request.start]=o),i.request.pageSize&&(l.params[i.request.pageSize]=n.pageSize),i.request.page&&(l.params[i.request.page]=n.pageNumber),n.sortKey&&i.request.sortField&&(l.params[i.request.sortField]=n.sortKey),n.sortDirection===!1&&i.request.sortDirection?l.params[i.request.sortDirection]=i.request.sortAscValue:n.sortDirection===!0&&i.request.sortDirection&&(l.params[i.request.sortDirection]=i.request.sortDescValue);var r;return r="JSONP"===l.method?e.jsonp(l.url+"?callback=JSON_CALLBACK",l):e(l),r.then(function(a){for(var e={items:t.evalObjectProperty(a.data,i.response.itemsLocation),currentPage:n.pageNumber,totalPages:Math.ceil(t.evalObjectProperty(a.data,i.response.totalItems)/n.pageSize),totalItems:Math.ceil(t.evalObjectProperty(a.data,i.response.totalItems)),pagingArray:[],token:n.token},o=5,l=n.pageNumber-Math.floor(o/2),r=l;r<=n.pageNumber;r++)r>0&&e.pagingArray.push(r);for(;e.pagingArray.length<o&&!(r>e.totalPages);)e.pagingArray.push(r),r++;return e})}}]).factory("adLoadLocalPage",["$filter",function(a){return function(e){var n,o={items:t,currentPage:e.pageNumber,totalPages:t,pagingArray:[],token:e.token},i=(e.pageNumber-1)*e.pageSize,l=i+e.pageSize,r=e.localData,g=r;e.sortKey&&(g=a("orderBy")(r,e.sortKey,e.sortDirection)),o.items=g.slice(i,l),o.allItems=r,o.currentPage=e.pageNumber,o.totalPages=Math.ceil(r.length/e.pageSize);var s=5,c=e.pageNumber-Math.floor(s/2);for(n=c;n<=e.pageNumber;n++)n>0&&o.pagingArray.push(n);for(;o.pagingArray.length<s&&!(n>o.totalPages);)o.pagingArray.push(n),n++;return o}}])}(window,document);